<ion-content padding>
  <ion-row>
    <ion-col text-center>
      <img class="prlogo" src="assets/icon/pr-logo.png" />
    </ion-col> </ion-row
  ><br /><br />

  <div *ngIf="!showVerify">
    <ion-row>
      <ion-col>
        <ion-label style="font-size: 1.1rem;">Forgot Password?</ion-label>
      </ion-col>
    </ion-row>

    <form [formGroup]="forgotPasswordForm">
      <ion-row>
        <ion-col>
          <ion-label position="floating">Mobile Number</ion-label>
          <ion-input
            formControlName="mobile"
            class="white-border white-color"
            type="number"
            (ionInput)="validationMobile($event.target.value)"
          ></ion-input>
        </ion-col>
      </ion-row>

      <div class="validation-errors">
        <ng-container *ngFor="let validation of validation_messages.mobile; trackBy: trackByFn">
          <div
            class="error-message"
            *ngIf="
              forgotPasswordForm.get('mobile').hasError(validation.type) &&
              (forgotPasswordForm.get('mobile').dirty ||
                forgotPasswordForm.get('mobile').touched)
            "
          >
            {{ validation.message }}
          </div>
        </ng-container>
      </div>

      <br />
      <ion-row>
        <ion-col>
          <ion-label style="font-size: 0.9rem;"
            >We will send you an OTP to your mobile number to enable you to
            login.</ion-label
          >
        </ion-col>
      </ion-row>
      <br />
      <ion-row>
        <ion-col size="6" class="signin padding0">
          <app-back-button [link]="['/login']"></app-back-button>
        </ion-col>
        <ion-col size="6" class="create padding0">
          <ion-button
            (click)="sendOtp()"
            color="blue"
            expand="full"
            fill="solid"
            >Submit</ion-button
          >
        </ion-col>
      </ion-row>
    </form>
  </div>

  <div *ngIf="showVerify">
    <ion-row>
      <ion-col>
        <ion-label style="font-size: 1.1rem;">&nbsp;Verify Otp</ion-label>
      </ion-col>
    </ion-row>

    <form [formGroup]="forgotPasswordForm">
      <ion-row>
        <ion-col>
          <ion-input
            formControlName="otp"
            class="white-border white-color"
            type="text"
            placeholder="OTP"
          ></ion-input>
        </ion-col>
      </ion-row>
      <br />
      <ion-row>
        <ion-col>
          <ion-label (click)="sendOtp()">&nbsp;Resend Otp</ion-label>
        </ion-col>
      </ion-row>
      <br />
      <ion-row>
        <ion-col>
          <ion-label style="font-size: 0.9rem;"
            >Please enter the OTP code which has been sent to your Mobile
            number.</ion-label
          >
        </ion-col>
      </ion-row>
      <br />
      <ion-row>
        <ion-col size="6">
          <ion-button
            (click)="verifyOtp()"
            color="blue"
            expand="full"
            fill="solid"
            >Login</ion-button
          >
        </ion-col>
      </ion-row>
    </form>
  </div>
</ion-content>
